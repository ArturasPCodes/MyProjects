2023-03-31 13:52:00.785 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 13:52:00.901 +03:00 [DBG] Hosting starting
2023-03-31 13:52:01.129 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 13:52:01.130 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 13:52:01.164 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 13:52:01.170 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 13:52:01.171 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 13:52:01.172 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 13:52:01.173 +03:00 [INF] Hosting environment: Development
2023-03-31 13:52:01.173 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 13:52:01.174 +03:00 [DBG] Connection id "0HMPHQNQGE93D" received FIN.
2023-03-31 13:52:01.174 +03:00 [DBG] Hosting started
2023-03-31 13:52:01.181 +03:00 [DBG] Connection id "0HMPHQNQGE93D" accepted.
2023-03-31 13:52:01.182 +03:00 [DBG] Connection id "0HMPHQNQGE93D" started.
2023-03-31 13:52:01.184 +03:00 [DBG] Connection id "0HMPHQNQGE93E" accepted.
2023-03-31 13:52:01.185 +03:00 [DBG] Connection id "0HMPHQNQGE93E" started.
2023-03-31 13:52:01.205 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 13:52:01.247 +03:00 [DBG] Connection id "0HMPHQNQGE93D" stopped.
2023-03-31 13:52:01.250 +03:00 [DBG] Connection id "0HMPHQNQGE93D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 13:52:01.252 +03:00 [DBG] Connection 0HMPHQNQGE93E established using the following protocol: "Tls13"
2023-03-31 13:52:01.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities - -
2023-03-31 13:52:01.321 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 13:52:01.344 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 13:52:01.372 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-31 13:52:01.375 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-31 13:52:01.377 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 13:52:01.381 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 13:52:01.403 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 13:52:01.407 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 13:52:01.408 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 13:52:01.410 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 13:52:01.412 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 13:52:01.414 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 13:52:01.417 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 13:52:01.690 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 13:52:01.714 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 13:52:02.592 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 13:52:02.617 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-31 13:52:02.752 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 13:52:02.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 13:52:02.775 +03:00 [DBG] Creating DbConnection.
2023-03-31 13:52:02.788 +03:00 [DBG] Created DbConnection. (11ms).
2023-03-31 13:52:02.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (21ms).
2023-03-31 13:52:02.796 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2023-03-31 13:52:02.800 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 13:52:02.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 13:52:02.836 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 13:52:02.856 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 13:52:02.883 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 13:52:02.903 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 13:52:02.905 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 13:52:02.910 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 13:52:02.918 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 54ms reading results.
2023-03-31 13:52:02.923 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 13:52:02.928 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-03-31 13:52:02.933 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 13:52:02.936 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 13:52:02.937 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 13:52:02.937 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 13:52:02.939 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 13:52:02.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 13:52:03.092 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1674.2841ms
2023-03-31 13:52:03.094 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 13:52:03.098 +03:00 [DBG] Connection id "0HMPHQNQGE93E" completed keep alive response.
2023-03-31 13:52:03.105 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 13:52:03.111 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 13:52:03.113 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 13:52:03.115 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities - - - 200 241 application/json;+charset=utf-8 1813.6574ms
2023-03-31 20:38:59.068 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:38:59.164 +03:00 [DBG] Hosting starting
2023-03-31 20:38:59.356 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:38:59.357 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:38:59.358 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:38:59.358 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:38:59.359 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:38:59.361 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:38:59.362 +03:00 [INF] Hosting environment: Development
2023-03-31 20:38:59.362 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:38:59.363 +03:00 [DBG] Hosting started
2023-03-31 20:39:32.874 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:39:32.924 +03:00 [DBG] Hosting starting
2023-03-31 20:39:33.012 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:39:33.013 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:39:33.014 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:39:33.015 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:39:33.016 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:39:33.016 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:39:33.017 +03:00 [INF] Hosting environment: Development
2023-03-31 20:39:33.018 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:39:33.019 +03:00 [DBG] Hosting started
2023-03-31 20:39:37.183 +03:00 [DBG] Connection id "0HMPI1RIV3TTE" received FIN.
2023-03-31 20:39:37.187 +03:00 [DBG] Connection id "0HMPI1RIV3TTE" accepted.
2023-03-31 20:39:37.188 +03:00 [DBG] Connection id "0HMPI1RIV3TTE" started.
2023-03-31 20:39:37.189 +03:00 [DBG] Connection id "0HMPI1RIV3TTF" accepted.
2023-03-31 20:39:37.190 +03:00 [DBG] Connection id "0HMPI1RIV3TTF" started.
2023-03-31 20:39:37.210 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:39:37.240 +03:00 [DBG] Connection 0HMPI1RIV3TTF established using the following protocol: "Tls13"
2023-03-31 20:39:37.248 +03:00 [DBG] Connection id "0HMPI1RIV3TTE" stopped.
2023-03-31 20:39:37.250 +03:00 [DBG] Connection id "0HMPI1RIV3TTE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:39:37.276 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities - -
2023-03-31 20:39:37.283 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:39:37.302 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:39:37.328 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-31 20:39:37.331 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-31 20:39:37.332 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:39:37.334 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:39:37.351 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:39:37.353 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:39:37.355 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:39:37.356 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:39:37.356 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:39:37.357 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:39:37.360 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:39:37.477 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:39:37.583 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:39:38.177 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:39:38.201 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-31 20:39:38.327 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 20:39:38.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:39:38.351 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:39:38.367 +03:00 [DBG] Created DbConnection. (13ms).
2023-03-31 20:39:38.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-03-31 20:39:38.376 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-03-31 20:39:38.380 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:39:38.404 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:39:38.416 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 20:39:38.441 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 20:39:38.463 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:39:38.480 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:39:38.482 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:39:38.487 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:39:38.492 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 45ms reading results.
2023-03-31 20:39:38.495 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:39:38.498 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:39:38.515 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 20:39:38.518 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 20:39:38.519 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 20:39:38.520 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 20:39:38.522 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 20:39:38.523 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 20:39:38.626 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1265.3161ms
2023-03-31 20:39:38.628 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:39:38.629 +03:00 [DBG] Connection id "0HMPI1RIV3TTF" completed keep alive response.
2023-03-31 20:39:38.633 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:39:38.636 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:39:38.638 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:39:38.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities - - - 200 241 application/json;+charset=utf-8 1366.3488ms
2023-03-31 20:44:59.678 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:44:59.740 +03:00 [DBG] Hosting starting
2023-03-31 20:44:59.838 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:44:59.839 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:44:59.840 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:44:59.841 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:44:59.842 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:44:59.843 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:44:59.843 +03:00 [INF] Hosting environment: Development
2023-03-31 20:44:59.844 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:44:59.844 +03:00 [DBG] Hosting started
2023-03-31 20:45:04.903 +03:00 [DBG] Connection id "0HMPI1UKKG8BA" received FIN.
2023-03-31 20:45:04.909 +03:00 [DBG] Connection id "0HMPI1UKKG8BA" accepted.
2023-03-31 20:45:04.910 +03:00 [DBG] Connection id "0HMPI1UKKG8BA" started.
2023-03-31 20:45:04.912 +03:00 [DBG] Connection id "0HMPI1UKKG8BB" accepted.
2023-03-31 20:45:04.914 +03:00 [DBG] Connection id "0HMPI1UKKG8BB" started.
2023-03-31 20:45:04.925 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:45:04.949 +03:00 [DBG] Connection id "0HMPI1UKKG8BA" stopped.
2023-03-31 20:45:04.953 +03:00 [DBG] Connection id "0HMPI1UKKG8BA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:45:04.957 +03:00 [DBG] Connection 0HMPI1UKKG8BB established using the following protocol: "Tls13"
2023-03-31 20:45:04.980 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities - -
2023-03-31 20:45:04.983 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:45:04.996 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:45:05.013 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-31 20:45:05.015 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-31 20:45:05.016 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:45:05.018 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:45:05.029 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:45:05.031 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:45:05.032 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:45:05.033 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:45:05.035 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:45:05.036 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:45:05.038 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:45:05.121 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:45:05.212 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:45:05.708 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:45:05.733 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-31 20:45:05.868 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 20:45:05.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:45:05.890 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:45:05.905 +03:00 [DBG] Created DbConnection. (12ms).
2023-03-31 20:45:05.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2023-03-31 20:45:05.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2023-03-31 20:45:05.919 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:45:05.929 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:05.936 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 20:45:05.953 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 20:45:05.971 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:45:05.981 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:45:05.982 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:45:05.986 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:05.991 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 33ms reading results.
2023-03-31 20:45:05.995 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:05.998 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:45:06.009 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 20:45:06.012 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 20:45:06.013 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 20:45:06.013 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 20:45:06.015 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 20:45:06.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 20:45:06.101 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1061.8679ms
2023-03-31 20:45:06.103 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 20:45:06.104 +03:00 [DBG] Connection id "0HMPI1UKKG8BB" completed keep alive response.
2023-03-31 20:45:06.108 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:45:06.112 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:45:06.115 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:45:06.118 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities - - - 200 241 application/json;+charset=utf-8 1138.7541ms
2023-03-31 20:45:10.425 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1 - -
2023-03-31 20:45:10.426 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:45:10.428 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:45:10.429 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:45:10.430 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:45:10.431 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:45:10.443 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:45:10.444 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:45:10.445 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:45:10.445 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:45:10.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:45:10.447 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:45:10.448 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:45:10.449 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:45:10.454 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:45:10.457 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:45:10.458 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:45:10.458 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:45:10.459 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:45:10.462 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:45:10.464 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:45:10.465 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-03-31 20:45:10.467 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:45:10.468 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:45:10.469 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:45:10.470 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:45:10.472 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:45:10.488 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:45:10.496 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:45:10.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:45:10.520 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:45:10.521 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:45:10.521 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 20:45:10.522 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 20:45:10.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-03-31 20:45:10.525 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:45:10.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:10.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:45:10.534 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:45:10.535 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:45:10.537 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:10.537 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 20:45:10.538 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:45:10.539 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:45:10.603 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 155.0401ms
2023-03-31 20:45:10.604 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:45:10.605 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointsOfInterestDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.CityWithoutPointsOfInterestDto
   at lambda_method76(Closure, Object, CityWithoutPointsOfInterestDto, ResolutionContext)
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Controllers\CitiesController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-03-31 20:45:10.627 +03:00 [DBG] Connection id "0HMPI1UKKG8BB" completed keep alive response.
2023-03-31 20:45:10.628 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:45:10.629 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:45:10.629 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:45:10.631 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1 - - - 500 - text/plain;+charset=utf-8 205.6790ms
2023-03-31 20:46:05.625 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:46:05.699 +03:00 [DBG] Hosting starting
2023-03-31 20:46:05.810 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:46:05.811 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:46:05.812 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:46:05.813 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:46:05.814 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:46:05.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:46:05.816 +03:00 [INF] Hosting environment: Development
2023-03-31 20:46:05.817 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:46:05.817 +03:00 [DBG] Hosting started
2023-03-31 20:46:12.877 +03:00 [DBG] Connection id "0HMPI1V8SO8A0" received FIN.
2023-03-31 20:46:12.882 +03:00 [DBG] Connection id "0HMPI1V8SO8A0" accepted.
2023-03-31 20:46:12.884 +03:00 [DBG] Connection id "0HMPI1V8SO8A0" started.
2023-03-31 20:46:12.886 +03:00 [DBG] Connection id "0HMPI1V8SO8A1" accepted.
2023-03-31 20:46:12.888 +03:00 [DBG] Connection id "0HMPI1V8SO8A1" started.
2023-03-31 20:46:12.898 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:46:12.960 +03:00 [DBG] Connection id "0HMPI1V8SO8A0" stopped.
2023-03-31 20:46:12.963 +03:00 [DBG] Connection id "0HMPI1V8SO8A0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:46:12.969 +03:00 [DBG] Connection 0HMPI1V8SO8A1 established using the following protocol: "Tls13"
2023-03-31 20:46:13.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1 - -
2023-03-31 20:46:13.005 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:46:13.019 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:46:13.041 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:46:13.044 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:46:13.046 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:46:13.048 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:46:13.075 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:46:13.078 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:46:13.080 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:46:13.082 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:46:13.084 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:46:13.085 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:46:13.087 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:46:13.175 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:46:13.278 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:46:13.281 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:46:13.284 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:46:13.286 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:46:13.287 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:46:13.288 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:46:13.291 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:46:13.293 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:46:13.294 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-03-31 20:46:13.296 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:46:13.297 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:46:13.298 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:46:13.299 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:46:13.300 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:46:13.754 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:46:13.789 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:46:13.893 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:46:13.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:46:13.918 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:46:13.928 +03:00 [DBG] Created DbConnection. (8ms).
2023-03-31 20:46:13.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2023-03-31 20:46:13.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2023-03-31 20:46:13.941 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:46:13.950 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:46:13.957 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:46:13.973 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:46:13.989 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:46:14.001 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:46:14.006 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 27ms reading results.
2023-03-31 20:46:14.008 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:46:14.011 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:46:14.074 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 985.616ms
2023-03-31 20:46:14.075 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:46:14.077 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointsOfInterestDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.CityWithoutPointsOfInterestDto
   at lambda_method59(Closure, Object, CityWithoutPointsOfInterestDto, ResolutionContext)
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Controllers\CitiesController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-03-31 20:46:14.090 +03:00 [DBG] Connection id "0HMPI1V8SO8A1" completed keep alive response.
2023-03-31 20:46:14.094 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:46:14.098 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:46:14.099 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:46:14.101 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1 - - - 500 - text/plain;+charset=utf-8 1102.3583ms
2023-03-31 20:47:16.238 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:47:16.298 +03:00 [DBG] Hosting starting
2023-03-31 20:47:16.397 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:47:16.398 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:47:16.399 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:47:16.400 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:47:16.400 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:47:16.401 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:47:16.401 +03:00 [INF] Hosting environment: Development
2023-03-31 20:47:16.402 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:47:16.402 +03:00 [DBG] Hosting started
2023-03-31 20:47:19.703 +03:00 [DBG] Connection id "0HMPI1VSQ20IS" received FIN.
2023-03-31 20:47:19.709 +03:00 [DBG] Connection id "0HMPI1VSQ20IS" accepted.
2023-03-31 20:47:19.710 +03:00 [DBG] Connection id "0HMPI1VSQ20IS" started.
2023-03-31 20:47:19.712 +03:00 [DBG] Connection id "0HMPI1VSQ20IT" accepted.
2023-03-31 20:47:19.713 +03:00 [DBG] Connection id "0HMPI1VSQ20IT" started.
2023-03-31 20:47:19.725 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:47:19.775 +03:00 [DBG] Connection id "0HMPI1VSQ20IS" stopped.
2023-03-31 20:47:19.779 +03:00 [DBG] Connection id "0HMPI1VSQ20IS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:47:19.782 +03:00 [DBG] Connection 0HMPI1VSQ20IT established using the following protocol: "Tls13"
2023-03-31 20:47:19.810 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1 - -
2023-03-31 20:47:19.814 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:47:19.827 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:47:19.847 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:47:19.850 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:47:19.851 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:47:19.853 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:47:19.881 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:47:19.883 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:47:19.884 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:47:19.885 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:47:19.886 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:47:19.887 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:47:19.889 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:47:19.967 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:47:20.066 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:47:20.070 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:47:20.072 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:47:20.074 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:47:20.075 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:47:20.076 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:47:20.080 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:47:20.082 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:47:20.084 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-03-31 20:47:20.086 +03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:47:20.087 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:47:20.089 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:47:20.090 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:47:20.091 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:47:20.572 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:47:20.621 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:47:20.743 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:47:20.768 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:47:20.770 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:47:20.782 +03:00 [DBG] Created DbConnection. (9ms).
2023-03-31 20:47:20.788 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2023-03-31 20:47:20.791 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2023-03-31 20:47:20.795 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:47:20.805 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:47:20.813 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:47:20.833 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 20:47:20.850 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:47:20.862 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:47:20.868 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2023-03-31 20:47:20.871 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:47:20.874 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:47:20.882 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 20:47:20.886 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 20:47:20.886 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 20:47:20.887 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 20:47:20.888 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 20:47:20.890 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-03-31 20:47:20.976 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1085.2403ms
2023-03-31 20:47:20.978 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:47:20.979 +03:00 [DBG] Connection id "0HMPI1VSQ20IT" completed keep alive response.
2023-03-31 20:47:20.981 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:47:20.984 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:47:20.986 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:47:20.988 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1180.0078ms
2023-03-31 20:48:05.361 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - -
2023-03-31 20:48:05.369 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:48:05.371 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:48:05.372 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:48:05.373 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:48:05.374 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:48:05.376 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:48:05.377 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:48:05.378 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:48:05.380 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:48:05.381 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:48:05.382 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:48:05.383 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:48:05.385 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:48:05.400 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:48:05.402 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:48:05.403 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:48:05.404 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:48:05.405 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:48:05.406 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:48:05.407 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:48:05.409 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-31 20:48:05.411 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:48:05.412 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:48:05.413 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:48:05.414 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:48:05.428 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:48:05.433 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:48:05.441 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-31 20:48:05.494 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:48:05.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:48:05.499 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:48:05.500 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 20:48:05.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 20:48:05.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-31 20:48:05.503 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:48:05.505 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:48:05.506 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:48:05.514 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:48:05.518 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:48:05.519 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:48:05.523 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-03-31 20:48:05.595 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 212.1586ms
2023-03-31 20:48:05.597 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:48:05.598 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 26
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Controllers\CitiesController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-03-31 20:48:05.617 +03:00 [DBG] Connection id "0HMPI1VSQ20IT" completed keep alive response.
2023-03-31 20:48:05.617 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:48:05.618 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:48:05.619 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:48:05.619 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 257.7187ms
2023-03-31 20:50:00.088 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:50:00.146 +03:00 [DBG] Hosting starting
2023-03-31 20:50:00.241 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:50:00.242 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:50:00.243 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:50:00.243 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:50:00.244 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:50:00.245 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:50:00.246 +03:00 [INF] Hosting environment: Development
2023-03-31 20:50:00.247 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:50:00.248 +03:00 [DBG] Hosting started
2023-03-31 20:50:01.260 +03:00 [DBG] Connection id "0HMPI21CUP5OL" accepted.
2023-03-31 20:50:01.260 +03:00 [DBG] Connection id "0HMPI21CUP5OL" received FIN.
2023-03-31 20:50:01.264 +03:00 [DBG] Connection id "0HMPI21CUP5OL" started.
2023-03-31 20:50:01.266 +03:00 [DBG] Connection id "0HMPI21CUP5ON" accepted.
2023-03-31 20:50:01.273 +03:00 [DBG] Connection id "0HMPI21CUP5ON" started.
2023-03-31 20:50:01.286 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:50:01.315 +03:00 [DBG] Connection id "0HMPI21CUP5OL" stopped.
2023-03-31 20:50:01.321 +03:00 [DBG] Connection id "0HMPI21CUP5OL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:50:01.330 +03:00 [DBG] Connection 0HMPI21CUP5ON established using the following protocol: "Tls13"
2023-03-31 20:50:01.374 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - -
2023-03-31 20:50:01.390 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:50:01.415 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:50:01.438 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:50:01.442 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:50:01.444 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:50:01.446 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:50:01.467 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:50:01.470 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:50:01.471 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:50:01.472 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:50:01.474 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:50:01.475 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:50:01.477 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:50:01.572 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:50:01.691 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:50:01.697 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:50:01.698 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:50:01.700 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:50:01.701 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:50:01.702 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:50:01.704 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:50:01.706 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:50:01.707 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-31 20:50:01.709 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:50:01.709 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:50:01.710 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:50:01.711 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:50:02.218 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:50:02.264 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:50:02.296 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-31 20:50:02.486 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:50:02.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:50:02.520 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:50:02.533 +03:00 [DBG] Created DbConnection. (10ms).
2023-03-31 20:50:02.543 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2023-03-31 20:50:02.548 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-03-31 20:50:02.554 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:50:02.568 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:50:02.578 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:50:02.602 +03:00 [ERR] Failed executing DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:50:02.608 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:50:02.615 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-03-31 20:50:02.622 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-03-31 20:50:02.706 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1227.7145ms
2023-03-31 20:50:02.709 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:50:02.711 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterest'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 26
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\Controllers\CitiesController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-03-31 20:50:02.732 +03:00 [DBG] Connection id "0HMPI21CUP5ON" completed keep alive response.
2023-03-31 20:50:02.735 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:50:02.738 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:50:02.740 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:50:02.742 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 1371.7471ms
2023-03-31 20:50:48.115 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:50:48.432 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:50:48.565 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:51:01.066 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:51:01.384 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:51:01.396 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:51:01.405 +03:00 [DBG] Created DbConnection. (6ms).
2023-03-31 20:51:01.407 +03:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.411 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:51:01.412 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 20:51:01.413 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.418 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.421 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.423 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:01.427 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-31 20:51:01.430 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-03-31 20:51:01.431 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-03-31 20:51:01.431 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.432 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.435 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-03-31 20:51:01.445 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-03-31 20:51:01.446 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.447 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 20:51:01.447 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:51:01.447 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 20:51:01.448 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.448 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.448 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.448 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:01.448 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-03-31 20:51:01.448 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-03-31 20:51:01.448 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-03-31 20:51:01.448 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.448 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.448 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-03-31 20:51:01.448 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-03-31 20:51:01.449 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.449 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:01.457 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:51:01.457 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 20:51:01.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-03-31 20:51:01.457 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.674 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.675 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-03-31 20:51:01.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-03-31 20:51:01.677 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.678 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 20:51:01.678 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.678 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:01.683 +03:00 [INF] Applying migration '20230331175048_chan'.
2023-03-31 20:51:01.707 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:01.708 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:01.709 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-31 20:51:01.711 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-03-31 20:51:01.712 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:01.712 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.712 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.712 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterest" RENAME TO "PointsOfInterest";
2023-03-31 20:51:01.715 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterest" RENAME TO "PointsOfInterest";
2023-03-31 20:51:01.715 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:01.715 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.715 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointOfInterest_CityId";
2023-03-31 20:51:01.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_PointOfInterest_CityId";
2023-03-31 20:51:01.715 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:01.715 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.715 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-03-31 20:51:01.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-03-31 20:51:01.716 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:01.716 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.716 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:01.716 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointsOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointsOfInterest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointsOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-03-31 20:51:01.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_PointsOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointsOfInterest" PRIMARY KEY AUTOINCREMENT,
    "CityId" INTEGER NOT NULL,
    "Description" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    CONSTRAINT "FK_PointsOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-03-31 20:51:04.971 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.971 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.972 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.972 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointsOfInterest" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointsOfInterest";
2023-03-31 20:51:04.972 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_PointsOfInterest" ("Id", "CityId", "Description", "Name")
SELECT "Id", "CityId", "Description", "Name"
FROM "PointsOfInterest";
2023-03-31 20:51:04.972 +03:00 [DBG] Committing transaction.
2023-03-31 20:51:04.979 +03:00 [DBG] Committed transaction.
2023-03-31 20:51:04.980 +03:00 [DBG] Disposing transaction.
2023-03-31 20:51:04.980 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.980 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.980 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.980 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-03-31 20:51:04.980 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2023-03-31 20:51:04.980 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-31 20:51:04.980 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-03-31 20:51:04.980 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.980 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.980 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.980 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointsOfInterest";
2023-03-31 20:51:04.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "PointsOfInterest";
2023-03-31 20:51:04.981 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.981 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.981 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.981 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointsOfInterest" RENAME TO "PointsOfInterest";
2023-03-31 20:51:04.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_PointsOfInterest" RENAME TO "PointsOfInterest";
2023-03-31 20:51:04.981 +03:00 [DBG] Committing transaction.
2023-03-31 20:51:04.982 +03:00 [DBG] Committed transaction.
2023-03-31 20:51:04.982 +03:00 [DBG] Disposing transaction.
2023-03-31 20:51:04.982 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.982 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-03-31 20:51:04.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2023-03-31 20:51:04.982 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-03-31 20:51:04.982 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-03-31 20:51:04.982 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.982 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-03-31 20:51:04.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointsOfInterest_CityId" ON "PointsOfInterest" ("CityId");
2023-03-31 20:51:04.982 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-03-31 20:51:04.982 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-03-31 20:51:04.982 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230331175048_chan', '7.0.3');
2023-03-31 20:51:04.982 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230331175048_chan', '7.0.3');
2023-03-31 20:51:10.270 +03:00 [DBG] Committing transaction.
2023-03-31 20:51:10.274 +03:00 [DBG] Committed transaction.
2023-03-31 20:51:10.274 +03:00 [DBG] Disposing transaction.
2023-03-31 20:51:10.274 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:10.274 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:10.275 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:51:10.275 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:10.275 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 20:51:25.488 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 20:51:25.541 +03:00 [DBG] Hosting starting
2023-03-31 20:51:25.627 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 20:51:25.628 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 20:51:25.629 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 20:51:25.629 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 20:51:25.630 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 20:51:25.630 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 20:51:25.631 +03:00 [INF] Hosting environment: Development
2023-03-31 20:51:25.631 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 20:51:25.632 +03:00 [DBG] Hosting started
2023-03-31 20:51:28.544 +03:00 [DBG] Connection id "0HMPI226V67DF" received FIN.
2023-03-31 20:51:28.549 +03:00 [DBG] Connection id "0HMPI226V67DF" accepted.
2023-03-31 20:51:28.550 +03:00 [DBG] Connection id "0HMPI226V67DF" started.
2023-03-31 20:51:28.552 +03:00 [DBG] Connection id "0HMPI226V67DG" accepted.
2023-03-31 20:51:28.552 +03:00 [DBG] Connection id "0HMPI226V67DG" started.
2023-03-31 20:51:28.564 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 20:51:28.592 +03:00 [DBG] Connection id "0HMPI226V67DF" stopped.
2023-03-31 20:51:28.595 +03:00 [DBG] Connection id "0HMPI226V67DF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 20:51:28.599 +03:00 [DBG] Connection 0HMPI226V67DG established using the following protocol: "Tls13"
2023-03-31 20:51:28.623 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - -
2023-03-31 20:51:28.627 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 20:51:28.640 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 20:51:28.661 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-03-31 20:51:28.664 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-03-31 20:51:28.665 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:51:28.668 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:51:28.686 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 20:51:28.688 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 20:51:28.689 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 20:51:28.690 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 20:51:28.691 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 20:51:28.692 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 20:51:28.694 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:51:28.774 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 20:51:28.867 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 20:51:28.873 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-31 20:51:28.876 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-31 20:51:28.879 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:51:28.880 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-31 20:51:28.882 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-31 20:51:28.885 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-31 20:51:28.887 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:51:28.888 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-31 20:51:28.890 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:51:28.891 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:51:28.892 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-31 20:51:28.893 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-31 20:51:29.318 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 20:51:29.357 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 20:51:29.383 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-31 20:51:29.519 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 20:51:29.545 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 20:51:29.548 +03:00 [DBG] Creating DbConnection.
2023-03-31 20:51:29.561 +03:00 [DBG] Created DbConnection. (11ms).
2023-03-31 20:51:29.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-03-31 20:51:29.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2023-03-31 20:51:29.576 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:29.593 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:29.602 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:51:29.618 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-31 20:51:29.640 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:51:29.679 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:51:29.684 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 20:51:29.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:29.693 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 70ms reading results.
2023-03-31 20:51:29.698 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 20:51:29.702 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-03-31 20:51:29.713 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 20:51:29.717 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 20:51:29.718 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 20:51:29.718 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 20:51:29.720 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 20:51:29.721 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-03-31 20:51:29.827 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1132.4738ms
2023-03-31 20:51:29.830 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-31 20:51:29.831 +03:00 [DBG] Connection id "0HMPI226V67DG" completed keep alive response.
2023-03-31 20:51:29.835 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 20:51:29.840 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 20:51:29.842 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 20:51:29.849 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1?includePointsOfInterest=true - - - 200 319 application/json;+charset=utf-8 1226.5123ms
2023-03-31 21:03:16.044 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 21:03:16.110 +03:00 [DBG] Hosting starting
2023-03-31 21:03:16.206 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 21:03:16.207 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 21:03:16.208 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 21:03:16.209 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 21:03:16.210 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 21:03:16.211 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 21:03:16.211 +03:00 [INF] Hosting environment: Development
2023-03-31 21:03:16.212 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 21:03:16.213 +03:00 [DBG] Hosting started
2023-03-31 21:03:19.876 +03:00 [DBG] Connection id "0HMPI28QUVHOD" received FIN.
2023-03-31 21:03:19.880 +03:00 [DBG] Connection id "0HMPI28QUVHOD" accepted.
2023-03-31 21:03:19.882 +03:00 [DBG] Connection id "0HMPI28QUVHOD" started.
2023-03-31 21:03:19.884 +03:00 [DBG] Connection id "0HMPI28QUVHOE" accepted.
2023-03-31 21:03:19.884 +03:00 [DBG] Connection id "0HMPI28QUVHOE" started.
2023-03-31 21:03:19.895 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 21:03:19.930 +03:00 [DBG] Connection id "0HMPI28QUVHOD" stopped.
2023-03-31 21:03:19.933 +03:00 [DBG] Connection id "0HMPI28QUVHOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 21:03:19.936 +03:00 [DBG] Connection 0HMPI28QUVHOE established using the following protocol: "Tls13"
2023-03-31 21:03:19.961 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - -
2023-03-31 21:03:19.966 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 21:03:19.978 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:03:19.997 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:03:20.000 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:03:20.001 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:20.004 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:20.027 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:03:20.030 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:03:20.031 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:03:20.033 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:03:20.035 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:03:20.036 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:03:20.039 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:20.132 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 21:03:20.235 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:20.239 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:20.242 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:03:20.243 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:20.244 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:20.245 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:20.248 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:20.726 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:03:20.749 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-31 21:03:20.843 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:03:20.868 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:20.871 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:03:20.884 +03:00 [DBG] Created DbConnection. (10ms).
2023-03-31 21:03:20.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2023-03-31 21:03:20.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2023-03-31 21:03:20.897 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:20.907 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:20.915 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:20.933 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:20.939 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:20.945 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2023-03-31 21:03:20.948 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:20.951 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-03-31 21:03:20.957 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-03-31 21:03:20.977 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 21:03:20.981 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:20.982 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:03:20.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:03:20.983 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:20.984 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:20.985 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:03:20.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:03:20.998 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:03:21.009 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:03:21.010 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:21.011 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2023-03-31 21:03:21.012 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:21.013 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:21.023 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:03:21.026 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:03:21.026 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:03:21.026 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:03:21.028 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:03:21.029 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 21:03:21.108 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1068.1282ms
2023-03-31 21:03:21.109 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:21.110 +03:00 [DBG] Connection id "0HMPI28QUVHOE" completed keep alive response.
2023-03-31 21:03:21.112 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:03:21.115 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:21.117 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:03:21.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - - - 200 196 application/json;+charset=utf-8 1160.2203ms
2023-03-31 21:03:25.611 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/5/pointsofinterest - -
2023-03-31 21:03:25.613 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:03:25.614 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/5/pointsofinterest'
2023-03-31 21:03:25.615 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/5/pointsofinterest'
2023-03-31 21:03:25.616 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:25.617 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:25.618 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:03:25.619 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:03:25.620 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:03:25.621 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:03:25.622 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:03:25.623 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:03:25.624 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:25.626 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:25.627 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:25.628 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:03:25.629 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:25.630 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:25.631 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:25.632 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:25.642 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:03:25.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:25.647 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:03:25.647 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:03:25.648 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:03:25.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:03:25.649 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:25.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:25.651 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:25.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:25.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:25.654 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:03:25.655 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:25.656 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:25.658 +03:00 [INF] City with id 5 wasn't found when accessing points of interst.
2023-03-31 21:03:25.663 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:03:25.664 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:03:25.665 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-31 21:03:25.667 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-31 21:03:25.667 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-03-31 21:03:25.681 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 57.0448ms
2023-03-31 21:03:25.681 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:25.682 +03:00 [DBG] Connection id "0HMPI28QUVHOE" completed keep alive response.
2023-03-31 21:03:25.683 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:03:25.683 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:25.684 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:25.685 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/5/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 73.7045ms
2023-03-31 21:03:30.709 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - -
2023-03-31 21:03:30.711 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:03:30.712 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:03:30.713 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:03:30.714 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:30.715 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:30.716 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:03:30.717 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:03:30.719 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:03:30.719 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:03:30.721 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:03:30.722 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:03:30.723 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:30.726 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:30.728 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:30.729 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:03:30.730 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:30.731 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:30.732 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:30.733 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:30.774 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:03:30.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:30.776 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:03:30.777 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:03:30.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:03:30.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:03:30.779 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:30.780 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:30.782 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:30.784 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.785 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:03:30.786 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.786 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:30.788 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:30.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:03:30.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:03:30.790 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:30.791 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.792 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:03:30.794 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:03:30.795 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:03:30.796 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:03:30.797 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.798 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 21:03:30.798 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:30.799 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:30.801 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:03:30.802 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:03:30.802 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:03:30.803 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:03:30.803 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:03:30.804 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 21:03:30.805 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 82.3631ms
2023-03-31 21:03:30.807 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:03:30.807 +03:00 [DBG] Connection id "0HMPI28QUVHOE" completed keep alive response.
2023-03-31 21:03:30.808 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:03:30.809 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:30.809 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:30.810 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - - - 200 196 application/json;+charset=utf-8 101.5169ms
2023-03-31 21:03:36.188 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 - -
2023-03-31 21:03:36.189 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:03:36.190 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:03:36.191 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:03:36.191 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:03:36.192 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:03:36.198 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:03:36.199 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:03:36.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:03:36.201 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:03:36.202 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:03:36.203 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:03:36.203 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:36.204 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:03:36.205 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:36.206 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:03:36.207 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:36.208 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:36.208 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:03:36.209 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:03:36.210 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:03:36.211 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:03:36.212 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:03:36.213 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:03:36.214 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:03:36.215 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:03:36.217 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:03:36.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:36.219 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:03:36.219 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:03:36.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:03:36.221 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:03:36.221 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:36.223 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.223 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:36.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:03:36.226 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.227 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-03-31 21:03:36.227 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.228 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:36.231 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-31 21:03:36.237 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:03:36.241 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:03:36.241 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:03:36.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:03:36.243 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:36.243 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.244 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:03:36.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:03:36.247 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:03:36.248 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.249 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 21:03:36.250 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:03:36.251 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:36.254 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:03:36.255 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:03:36.256 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:03:36.256 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:03:36.257 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:03:36.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-31 21:03:36.258 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 54.7149ms
2023-03-31 21:03:36.259 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:03:36.259 +03:00 [DBG] Connection id "0HMPI28QUVHOE" completed keep alive response.
2023-03-31 21:03:36.260 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:03:36.261 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:03:36.262 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:03:36.263 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 - - - 200 85 application/json;+charset=utf-8 74.5581ms
2023-03-31 21:15:48.065 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 21:15:48.127 +03:00 [DBG] Hosting starting
2023-03-31 21:15:48.237 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 21:15:48.238 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 21:15:48.239 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 21:15:48.240 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 21:15:48.241 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 21:15:48.242 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 21:15:48.243 +03:00 [INF] Hosting environment: Development
2023-03-31 21:15:48.244 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 21:15:48.244 +03:00 [DBG] Hosting started
2023-03-31 21:15:52.157 +03:00 [DBG] Connection id "0HMPI2FR59GGR" received FIN.
2023-03-31 21:15:52.161 +03:00 [DBG] Connection id "0HMPI2FR59GGR" accepted.
2023-03-31 21:15:52.163 +03:00 [DBG] Connection id "0HMPI2FR59GGR" started.
2023-03-31 21:15:52.164 +03:00 [DBG] Connection id "0HMPI2FR59GGS" accepted.
2023-03-31 21:15:52.165 +03:00 [DBG] Connection id "0HMPI2FR59GGS" started.
2023-03-31 21:15:52.176 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 21:15:52.202 +03:00 [DBG] Connection id "0HMPI2FR59GGR" stopped.
2023-03-31 21:15:52.205 +03:00 [DBG] Connection id "0HMPI2FR59GGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 21:15:52.210 +03:00 [DBG] Connection 0HMPI2FR59GGS established using the following protocol: "Tls13"
2023-03-31 21:15:52.236 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7222/api/cities/3/pointsofinterest application/json 117
2023-03-31 21:15:52.240 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 21:15:52.250 +03:00 [DBG] POST requests are not supported
2023-03-31 21:15:52.270 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-31 21:15:52.272 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-31 21:15:52.275 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-31 21:15:52.278 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-31 21:15:52.301 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:15:52.303 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:15:52.304 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:15:52.306 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:15:52.307 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:15:52.308 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:15:52.309 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:15:52.389 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 21:15:52.487 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:15:52.490 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:15:52.492 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:15:52.493 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:15:52.494 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:15:52.495 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:15:52.497 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:15:52.499 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-31 21:15:52.500 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-03-31 21:15:52.508 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-31 21:15:52.510 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-31 21:15:52.515 +03:00 [DBG] Connection id "0HMPI2FR59GGS", Request id "0HMPI2FR59GGS:00000001": started reading request body.
2023-03-31 21:15:52.516 +03:00 [DBG] Connection id "0HMPI2FR59GGS", Request id "0HMPI2FR59GGS:00000001": done reading request body.
2023-03-31 21:15:52.578 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-31 21:15:52.579 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-31 21:15:52.580 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-03-31 21:15:52.586 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-03-31 21:15:53.013 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:15:53.033 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-31 21:15:53.125 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:15:53.153 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:15:53.155 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:15:53.166 +03:00 [DBG] Created DbConnection. (9ms).
2023-03-31 21:15:53.173 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-03-31 21:15:53.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2023-03-31 21:15:53.184 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:15:53.193 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:15:53.201 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:15:53.219 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:15:53.225 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:15:53.230 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2023-03-31 21:15:53.234 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:15:53.236 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:16:06.950 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-31 21:16:06.971 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:16:06.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:16:06.977 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:16:06.978 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:16:06.979 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:16:06.979 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:06.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 21:16:06.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-31 21:16:06.998 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:07.007 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:07.008 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 25ms reading results.
2023-03-31 21:16:07.009 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:07.010 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:16:34.492 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-31 21:16:34.495 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-31 21:16:34.508 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:34.525 +03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:34.537 +03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:34.544 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:34.546 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-31 21:16:34.586 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:16:34.587 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:34.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:16:34.589 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:16:34.590 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:16:34.590 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-31 21:16:34.593 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-31 21:16:34.601 +03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-31 21:16:34.609 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:34.620 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2023-03-31 21:16:34.622 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:16:34.623 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:16:34.628 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:16:34.630 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-31 21:17:02.517 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:17:02.520 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:17:02.520 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:17:02.520 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:17:02.522 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:17:02.523 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-31 21:17:02.537 +03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[3],pointOfInterestId=[7])
2023-03-31 21:17:02.544 +03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2023-03-31 21:17:02.546 +03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2023-03-31 21:17:02.581 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 70269.9468ms
2023-03-31 21:17:02.583 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-31 21:17:02.584 +03:00 [DBG] Connection id "0HMPI2FR59GGS" completed keep alive response.
2023-03-31 21:17:02.587 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:17:02.590 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:17:02.592 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:17:02.594 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7222/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 70360.0524ms
2023-03-31 21:17:24.305 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/3/pointsofinterest/7 - -
2023-03-31 21:17:24.318 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:17:24.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2023-03-31 21:17:24.320 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2023-03-31 21:17:24.321 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:17:24.322 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:17:24.327 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:17:24.328 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:17:24.329 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:17:24.330 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:17:24.332 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:17:24.332 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:17:24.333 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:17:24.335 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:17:24.340 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:17:24.341 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:17:24.342 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:17:24.342 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:17:24.343 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:17:24.344 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:17:24.345 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:17:24.345 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:17:24.347 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:17:24.347 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:17:24.348 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:17:24.349 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:17:24.358 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:17:24.363 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:17:24.364 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:17:24.364 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:17:24.365 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:17:24.366 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:17:24.367 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:17:24.367 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.368 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:17:24.370 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:17:24.371 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.372 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:17:24.373 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.374 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:17:24.377 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-31 21:17:24.383 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:17:24.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:17:24.387 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:17:24.388 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:17:24.389 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:17:24.390 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.392 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:17:24.394 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:17:24.395 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:17:24.397 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.398 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 21:17:24.399 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:17:24.399 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:17:24.402 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:17:24.403 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:17:24.404 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:17:24.404 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:17:24.405 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:17:24.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-31 21:17:24.407 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 74.507ms
2023-03-31 21:17:24.408 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:17:24.409 +03:00 [DBG] Connection id "0HMPI2FR59GGS" completed keep alive response.
2023-03-31 21:17:24.410 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:17:24.411 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:17:24.412 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:17:24.413 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/3/pointsofinterest/7 - - - 200 111 application/json;+charset=utf-8 108.0386ms
2023-03-31 21:21:18.347 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 21:21:18.408 +03:00 [DBG] Hosting starting
2023-03-31 21:21:18.504 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 21:21:18.506 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 21:21:18.506 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 21:21:18.507 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 21:21:18.508 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 21:21:18.508 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 21:21:18.509 +03:00 [INF] Hosting environment: Development
2023-03-31 21:21:18.510 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 21:21:18.510 +03:00 [DBG] Hosting started
2023-03-31 21:21:29.219 +03:00 [DBG] Connection id "0HMPI2IVJOM20" received FIN.
2023-03-31 21:21:29.223 +03:00 [DBG] Connection id "0HMPI2IVJOM20" accepted.
2023-03-31 21:21:29.225 +03:00 [DBG] Connection id "0HMPI2IVJOM20" started.
2023-03-31 21:21:29.226 +03:00 [DBG] Connection id "0HMPI2IVJOM21" accepted.
2023-03-31 21:21:29.227 +03:00 [DBG] Connection id "0HMPI2IVJOM21" started.
2023-03-31 21:21:29.239 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 21:21:29.262 +03:00 [DBG] Connection id "0HMPI2IVJOM20" stopped.
2023-03-31 21:21:29.265 +03:00 [DBG] Connection id "0HMPI2IVJOM20" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 21:21:29.271 +03:00 [DBG] Connection 0HMPI2IVJOM21 established using the following protocol: "Tls13"
2023-03-31 21:21:29.296 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 122
2023-03-31 21:21:29.300 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 21:21:29.314 +03:00 [DBG] PUT requests are not supported
2023-03-31 21:21:29.333 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:21:29.335 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:21:29.337 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:21:29.339 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:21:29.358 +03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:21:29.360 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:21:29.361 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:21:29.362 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:21:29.364 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:21:29.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:21:29.366 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:21:29.441 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 21:21:29.549 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:21:29.553 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:21:29.555 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:21:29.557 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:29.558 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:29.559 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:21:29.561 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:29.563 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:21:29.564 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:21:29.565 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:29.566 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:29.566 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:21:29.568 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:29.569 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-31 21:21:29.571 +03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-03-31 21:21:29.573 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-31 21:21:29.574 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-31 21:21:29.579 +03:00 [DBG] Connection id "0HMPI2IVJOM21", Request id "0HMPI2IVJOM21:00000001": started reading request body.
2023-03-31 21:21:29.580 +03:00 [DBG] Connection id "0HMPI2IVJOM21", Request id "0HMPI2IVJOM21:00000001": done reading request body.
2023-03-31 21:21:29.640 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-31 21:21:29.641 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-31 21:21:29.642 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2023-03-31 21:21:29.648 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2023-03-31 21:21:30.071 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:21:30.092 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-31 21:21:30.191 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:21:30.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:21:30.218 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:21:30.231 +03:00 [DBG] Created DbConnection. (10ms).
2023-03-31 21:21:30.235 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2023-03-31 21:21:30.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2023-03-31 21:21:30.242 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:30.251 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.261 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:21:30.280 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:21:30.287 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.291 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2023-03-31 21:21:30.295 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.298 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:21:30.302 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-31 21:21:30.323 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:21:30.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:21:30.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:21:30.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:21:30.331 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:30.332 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.333 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:21:30.339 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:21:30.350 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:21:30.361 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.362 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2023-03-31 21:21:30.363 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.364 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:21:30.372 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-31 21:21:30.375 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-31 21:21:30.384 +03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-31 21:21:30.390 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:21:30.392 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-31 21:21:30.394 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-31 21:21:30.432 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:30.433 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:21:30.435 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:21:30.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:21:30.437 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-03-31 21:21:30.439 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-03-31 21:21:30.448 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.449 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2023-03-31 21:21:30.450 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:30.451 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:21:30.454 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:21:30.456 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-31 21:21:30.459 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-31 21:21:30.462 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1094.9632ms
2023-03-31 21:21:30.464 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:21:30.467 +03:00 [DBG] Connection id "0HMPI2IVJOM21" completed keep alive response.
2023-03-31 21:21:30.470 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:21:30.473 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:30.476 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:21:30.478 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 1183.7560ms
2023-03-31 21:21:44.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 122
2023-03-31 21:21:44.397 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:21:44.398 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:21:44.399 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:21:44.400 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:21:44.401 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:21:44.407 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:21:44.408 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:21:44.409 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:21:44.410 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:21:44.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:21:44.412 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:21:44.413 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:21:44.415 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:21:44.416 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:21:44.417 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:21:44.418 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:44.419 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:44.420 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:21:44.421 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:21:44.421 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:21:44.423 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:21:44.424 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:44.425 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:44.425 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:21:44.426 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:21:44.437 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:21:44.441 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:21:44.442 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:21:44.443 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:21:44.444 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:21:44.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-31 21:21:44.446 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:44.447 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.448 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:21:44.450 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:21:44.451 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.453 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:21:44.453 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.454 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:21:44.456 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:21:44.457 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:21:44.458 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:21:44.458 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:44.459 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.461 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:21:44.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:21:44.463 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:21:44.465 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.465 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 21:21:44.466 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:21:44.466 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:21:44.471 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:21:44.473 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:21:44.474 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:21:44.474 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:21:44.475 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:21:44.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-31 21:21:44.498 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 85.5068ms
2023-03-31 21:21:44.499 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:21:44.500 +03:00 [DBG] Connection id "0HMPI2IVJOM21" completed keep alive response.
2023-03-31 21:21:44.500 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:21:44.501 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:21:44.501 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:21:44.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 122 - 200 116 application/json;+charset=utf-8 113.5207ms
2023-03-31 21:21:44.503 +03:00 [DBG] Connection id "0HMPI2IVJOM21", Request id "0HMPI2IVJOM21:00000002": started reading request body.
2023-03-31 21:21:44.504 +03:00 [DBG] Connection id "0HMPI2IVJOM21", Request id "0HMPI2IVJOM21:00000002": done reading request body.
2023-03-31 21:27:42.712 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 21:27:42.774 +03:00 [DBG] Hosting starting
2023-03-31 21:27:42.872 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 21:27:42.873 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 21:27:42.874 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 21:27:42.875 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 21:27:42.876 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 21:27:42.877 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 21:27:42.878 +03:00 [INF] Hosting environment: Development
2023-03-31 21:27:42.878 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 21:27:42.879 +03:00 [DBG] Hosting started
2023-03-31 21:27:53.990 +03:00 [DBG] Connection id "0HMPI2MI97AK4" received FIN.
2023-03-31 21:27:53.994 +03:00 [DBG] Connection id "0HMPI2MI97AK4" accepted.
2023-03-31 21:27:53.996 +03:00 [DBG] Connection id "0HMPI2MI97AK4" started.
2023-03-31 21:27:53.998 +03:00 [DBG] Connection id "0HMPI2MI97AK5" accepted.
2023-03-31 21:27:53.999 +03:00 [DBG] Connection id "0HMPI2MI97AK5" started.
2023-03-31 21:27:54.012 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 21:27:54.047 +03:00 [DBG] Connection id "0HMPI2MI97AK4" stopped.
2023-03-31 21:27:54.051 +03:00 [DBG] Connection id "0HMPI2MI97AK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 21:27:54.054 +03:00 [DBG] Connection 0HMPI2MI97AK5 established using the following protocol: "Tls13"
2023-03-31 21:27:54.080 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 107
2023-03-31 21:27:54.083 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 21:27:54.094 +03:00 [DBG] PATCH requests are not supported
2023-03-31 21:27:54.113 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:27:54.115 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:27:54.117 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:27:54.119 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:27:54.139 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:27:54.142 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:27:54.142 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:27:54.144 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:27:54.145 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:27:54.145 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:27:54.147 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:27:54.233 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 21:27:54.330 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:27:54.333 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:27:54.335 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:27:54.337 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:27:54.338 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:27:54.339 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:27:54.342 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:27:54.343 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:27:54.345 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:27:54.346 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:27:54.347 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:27:54.347 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:27:54.349 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:27:54.350 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-31 21:27:54.351 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2023-03-31 21:27:54.353 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-31 21:27:54.355 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-31 21:27:54.359 +03:00 [DBG] Connection id "0HMPI2MI97AK5", Request id "0HMPI2MI97AK5:00000001": started reading request body.
2023-03-31 21:27:54.361 +03:00 [DBG] Connection id "0HMPI2MI97AK5", Request id "0HMPI2MI97AK5:00000001": done reading request body.
2023-03-31 21:27:54.447 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-31 21:27:54.448 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-31 21:27:54.449 +03:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2023-03-31 21:27:54.452 +03:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2023-03-31 21:27:54.905 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:27:54.925 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-31 21:27:55.021 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:27:55.048 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:27:55.050 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:27:55.062 +03:00 [DBG] Created DbConnection. (9ms).
2023-03-31 21:27:55.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2023-03-31 21:27:55.070 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2023-03-31 21:27:55.074 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:27:55.084 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.092 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:27:55.113 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:27:55.120 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.125 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2023-03-31 21:27:55.129 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.132 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:27:55.136 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-31 21:27:55.156 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:27:55.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:27:55.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:27:55.167 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:27:55.168 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:27:55.169 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.170 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:27:55.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:27:55.182 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:27:55.194 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.195 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2023-03-31 21:27:55.196 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.197 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:27:55.211 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-31 21:27:55.214 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-31 21:27:55.221 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-31 21:27:55.227 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:27:55.230 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-31 21:27:55.267 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:27:55.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:27:55.271 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:27:55.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:27:55.273 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 28)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2023-03-31 21:27:55.276 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 28)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2023-03-31 21:27:55.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.282 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2023-03-31 21:27:55.283 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:27:55.284 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:27:55.287 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:27:55.289 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-31 21:27:55.291 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-31 21:27:55.295 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1146.1763ms
2023-03-31 21:27:55.296 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-03-31 21:27:55.298 +03:00 [DBG] Connection id "0HMPI2MI97AK5" completed keep alive response.
2023-03-31 21:27:55.301 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:27:55.306 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:27:55.309 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:27:55.311 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 107 - 204 - - 1232.0434ms
2023-03-31 21:28:01.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 107
2023-03-31 21:28:01.456 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:28:01.458 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:28:01.459 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:28:01.460 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:28:01.461 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:28:01.468 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:28:01.471 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:28:01.472 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:28:01.474 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:28:01.476 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:28:01.477 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:28:01.479 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:28:01.481 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:28:01.483 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:28:01.484 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:28:01.485 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:28:01.486 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:28:01.487 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:28:01.489 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:28:01.490 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:28:01.492 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:28:01.493 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:28:01.494 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:28:01.495 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:28:01.496 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:28:01.508 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:28:01.512 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:28:01.513 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:28:01.513 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:28:01.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:28:01.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:28:01.516 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:28:01.517 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.518 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:28:01.519 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:28:01.521 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.521 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-03-31 21:28:01.522 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.523 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:28:01.524 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:28:01.525 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:28:01.526 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:28:01.527 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:28:01.527 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.528 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:28:01.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:28:01.532 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:28:01.533 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.534 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2023-03-31 21:28:01.535 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:28:01.537 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:28:01.540 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:28:01.543 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:28:01.544 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:28:01.544 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:28:01.545 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:28:01.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-03-31 21:28:01.568 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 89.8123ms
2023-03-31 21:28:01.569 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:28:01.570 +03:00 [DBG] Connection id "0HMPI2MI97AK5" completed keep alive response.
2023-03-31 21:28:01.571 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:28:01.572 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:28:01.573 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:28:01.574 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 application/json 107 - 200 122 application/json;+charset=utf-8 122.7447ms
2023-03-31 21:28:01.574 +03:00 [DBG] Connection id "0HMPI2MI97AK5", Request id "0HMPI2MI97AK5:00000002": started reading request body.
2023-03-31 21:28:01.575 +03:00 [DBG] Connection id "0HMPI2MI97AK5", Request id "0HMPI2MI97AK5:00000002": done reading request body.
2023-03-31 21:32:23.995 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-31 21:32:24.054 +03:00 [DBG] Hosting starting
2023-03-31 21:32:24.152 +03:00 [INF] Now listening on: https://localhost:7222
2023-03-31 21:32:24.153 +03:00 [INF] Now listening on: http://localhost:5243
2023-03-31 21:32:24.154 +03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-31 21:32:24.155 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-31 21:32:24.156 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-31 21:32:24.157 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-31 21:32:24.157 +03:00 [INF] Hosting environment: Development
2023-03-31 21:32:24.158 +03:00 [INF] Content root path: C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API
2023-03-31 21:32:24.158 +03:00 [DBG] Hosting started
2023-03-31 21:32:35.651 +03:00 [DBG] Connection id "0HMPI2P67BL8V" received FIN.
2023-03-31 21:32:35.656 +03:00 [DBG] Connection id "0HMPI2P67BL8V" accepted.
2023-03-31 21:32:35.658 +03:00 [DBG] Connection id "0HMPI2P67BL8V" started.
2023-03-31 21:32:35.659 +03:00 [DBG] Connection id "0HMPI2P67BL90" accepted.
2023-03-31 21:32:35.660 +03:00 [DBG] Connection id "0HMPI2P67BL90" started.
2023-03-31 21:32:35.672 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-31 21:32:35.701 +03:00 [DBG] Connection id "0HMPI2P67BL8V" stopped.
2023-03-31 21:32:35.708 +03:00 [DBG] Connection id "0HMPI2P67BL8V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-31 21:32:35.714 +03:00 [DBG] Connection 0HMPI2P67BL90 established using the following protocol: "Tls13"
2023-03-31 21:32:35.738 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7222/api/cities/1/pointsofinterest/1 - -
2023-03-31 21:32:35.741 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-31 21:32:35.751 +03:00 [DBG] DELETE requests are not supported
2023-03-31 21:32:35.768 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:32:35.771 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:32:35.772 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-31 21:32:35.774 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-31 21:32:35.794 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:32:35.797 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:32:35.798 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:32:35.799 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:32:35.800 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:32:35.801 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:32:35.802 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:32:35.887 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-31 21:32:35.988 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:32:35.992 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:32:35.993 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:32:35.995 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:35.996 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:35.997 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:32:35.999 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:36.001 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:32:36.002 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:32:36.003 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:36.004 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:36.004 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:32:36.005 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:36.441 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:32:36.461 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-03-31 21:32:36.557 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:32:36.580 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:36.583 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:32:36.595 +03:00 [DBG] Created DbConnection. (9ms).
2023-03-31 21:32:36.600 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-03-31 21:32:36.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2023-03-31 21:32:36.606 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:36.615 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.622 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:32:36.639 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:32:36.646 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.651 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2023-03-31 21:32:36.654 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.657 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-31 21:32:36.661 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-03-31 21:32:36.681 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-31 21:32:36.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:36.688 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:32:36.689 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:32:36.691 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:36.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.693 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:32:36.694 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:32:36.706 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:36.718 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.719 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 23ms reading results.
2023-03-31 21:32:36.721 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.722 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:32:36.729 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:36.734 +03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-31 21:32:36.740 +03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-31 21:32:36.753 +03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-31 21:32:36.795 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:36.796 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.798 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:36.799 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:32:36.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:32:36.800 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2023-03-31 21:32:36.801 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2023-03-31 21:32:36.810 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2023-03-31 21:32:36.812 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:36.813 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:32:36.817 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:36.818 +03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-31 21:32:36.821 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-03-31 21:32:36.824 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 1020.6049ms
2023-03-31 21:32:36.826 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-03-31 21:32:36.828 +03:00 [DBG] Connection id "0HMPI2P67BL90" completed keep alive response.
2023-03-31 21:32:36.831 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:32:36.834 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:36.835 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:32:36.838 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7222/api/cities/1/pointsofinterest/1 - - - 204 - - 1100.4981ms
2023-03-31 21:32:42.941 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 - -
2023-03-31 21:32:42.948 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:32:42.950 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:32:42.951 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-03-31 21:32:42.952 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:32:42.952 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:32:42.958 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:32:42.960 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:32:42.961 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:32:42.962 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:32:42.963 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:32:42.964 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:32:42.965 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:32:42.967 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:32:42.968 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:32:42.969 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:32:42.971 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:42.972 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:42.973 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:32:42.973 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:32:42.974 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:32:42.975 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-03-31 21:32:42.976 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:42.977 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:42.977 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-03-31 21:32:42.978 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-03-31 21:32:42.989 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:32:42.993 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:42.994 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:32:42.995 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:32:42.996 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:32:42.997 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-31 21:32:42.998 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:42.999 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:32:43.002 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:32:43.005 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.006 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:32:43.007 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.008 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:32:43.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:43.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:32:43.012 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:32:43.013 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:43.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.015 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:32:43.017 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-03-31 21:32:43.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.020 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:32:43.021 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:43.022 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:32:43.026 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:32:43.029 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:32:43.030 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-31 21:32:43.033 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-31 21:32:43.034 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-03-31 21:32:43.121 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 156.0432ms
2023-03-31 21:32:43.122 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-03-31 21:32:43.123 +03:00 [DBG] Connection id "0HMPI2P67BL90" completed keep alive response.
2023-03-31 21:32:43.123 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:32:43.124 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:43.125 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:32:43.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 185.6910ms
2023-03-31 21:32:54.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities - -
2023-03-31 21:32:54.684 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:32:54.685 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-03-31 21:32:54.686 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-03-31 21:32:54.687 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 21:32:54.688 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 21:32:54.691 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-31 21:32:54.692 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:32:54.693 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:32:54.695 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:32:54.696 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:32:54.697 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:32:54.698 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 21:32:54.701 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-31 21:32:54.747 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:32:54.751 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-03-31 21:32:54.759 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 21:32:54.761 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:32:54.762 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:32:54.762 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:32:54.763 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:32:54.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:32:54.765 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:54.766 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:54.767 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 21:32:54.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-03-31 21:32:54.773 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:54.779 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:54.780 +03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:32:54.781 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:54.782 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 12ms reading results.
2023-03-31 21:32:54.783 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:32:54.784 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:32:54.794 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:32:54.796 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:32:54.796 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:32:54.797 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:32:54.798 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:32:54.799 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 21:32:54.808 +03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 110.4108ms
2023-03-31 21:32:54.809 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-03-31 21:32:54.810 +03:00 [DBG] Connection id "0HMPI2P67BL90" completed keep alive response.
2023-03-31 21:32:54.811 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:32:54.811 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:32:54.812 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:32:54.813 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities - - - 200 241 application/json;+charset=utf-8 131.8681ms
2023-03-31 21:33:00.739 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - -
2023-03-31 21:33:00.740 +03:00 [DBG] The request path  does not match the path filter
2023-03-31 21:33:00.740 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:33:00.741 +03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-03-31 21:33:00.742 +03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:33:00.743 +03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:33:00.746 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-31 21:33:00.748 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-31 21:33:00.749 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-31 21:33:00.750 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-31 21:33:00.751 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-31 21:33:00.751 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-31 21:33:00.752 +03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:33:00.753 +03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-31 21:33:00.755 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:33:00.756 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-31 21:33:00.756 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:33:00.757 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:33:00.758 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-31 21:33:00.759 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-31 21:33:00.761 +03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-31 21:33:00.763 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:33:00.764 +03:00 [DBG] Creating DbConnection.
2023-03-31 21:33:00.764 +03:00 [DBG] Created DbConnection. (0ms).
2023-03-31 21:33:00.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-31 21:33:00.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-31 21:33:00.767 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:33:00.768 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.768 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:33:00.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-31 21:33:00.772 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.772 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 0ms reading results.
2023-03-31 21:33:00.773 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.774 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:33:00.777 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-03-31 21:33:00.780 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-03-31 21:33:00.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-31 21:33:00.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-03-31 21:33:00.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-03-31 21:33:00.785 +03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:33:00.785 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.787 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:33:00.788 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-03-31 21:33:00.789 +03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-31 21:33:00.790 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.791 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2023-03-31 21:33:00.792 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\arturas\Desktop\L2Code\Pluralsight\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-03-31 21:33:00.793 +03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-03-31 21:33:00.796 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-31 21:33:00.798 +03:00 [DBG] No information found on request to perform content negotiation.
2023-03-31 21:33:00.798 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-31 21:33:00.799 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-31 21:33:00.800 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-31 21:33:00.800 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-03-31 21:33:00.803 +03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 50.9301ms
2023-03-31 21:33:00.804 +03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-03-31 21:33:00.805 +03:00 [DBG] Connection id "0HMPI2P67BL90" completed keep alive response.
2023-03-31 21:33:00.806 +03:00 [DBG] 'CityInfoContext' disposed.
2023-03-31 21:33:00.806 +03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-31 21:33:00.807 +03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-31 21:33:00.808 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7222/api/cities/1/pointsofinterest - - - 200 110 application/json;+charset=utf-8 69.6101ms
